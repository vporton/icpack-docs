<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="MockCMC.html">MockCMC</a></li></li><li><li><a href="MockCyclesLedger.html">MockCyclesLedger</a></li></li><li><li><a href="bootstrapper_backend/BootstrapperData.html">bootstrapper_backend/BootstrapperData</a></li></li><li><li><a href="bootstrapper_backend/bookmarks.html">bootstrapper_backend/bookmarks</a></li></li><li><li><a href="bootstrapper_backend/bootstrapper.html">bootstrapper_backend/bootstrapper</a></li></li><li><li><a href="common.html">common</a></li></li><li><li><a href="copy_assets.html">copy_assets</a></li></li><li><li><a href="install.html">install</a></li></li><li><li><a href="lib/Account.html">lib/Account</a></li></li><li><li><a href="package_manager_backend/battery.html">package_manager_backend/battery</a></li></li><li><li><a href="package_manager_backend/main_indirect.html">package_manager_backend/main_indirect</a></li></li><li><li><a href="package_manager_backend/package_manager.html">package_manager_backend/package_manager</a></li></li><li><li><a href="package_manager_backend/simple_indirect.html">package_manager_backend/simple_indirect</a></li></li><li><li><a href="repository_backend/Repository.html">repository_backend/Repository</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.AccountIdentifier">AccountIdentifier</a></li></li><li><li><a href="#type.BlockIndex">BlockIndex</a></li></li><li><li><a href="#type.CanisterSettings">CanisterSettings</a></li></li><li><li><a href="#type.CreateCanisterArg">CreateCanisterArg</a></li></li><li><li><a href="#type.CreateCanisterError">CreateCanisterError</a></li></li><li><li><a href="#type.CreateCanisterResult">CreateCanisterResult</a></li></li><li><li><a href="#type.Cycles">Cycles</a></li></li><li><li><a href="#type.CyclesCanisterInitPayload">CyclesCanisterInitPayload</a></li></li><li><li><a href="#type.ExchangeRateCanister">ExchangeRateCanister</a></li></li><li><li><a href="#type.IcpXdrConversionRate">IcpXdrConversionRate</a></li></li><li><li><a href="#type.IcpXdrConversionRateResponse">IcpXdrConversionRateResponse</a></li></li><li><li><a href="#type.Memo">Memo</a></li></li><li><li><a href="#type.NotifyCreateCanisterArg">NotifyCreateCanisterArg</a></li></li><li><li><a href="#type.NotifyCreateCanisterResult">NotifyCreateCanisterResult</a></li></li><li><li><a href="#type.NotifyError">NotifyError</a></li></li><li><li><a href="#type.NotifyMintCyclesArg">NotifyMintCyclesArg</a></li></li><li><li><a href="#type.NotifyMintCyclesResult">NotifyMintCyclesResult</a></li></li><li><li><a href="#type.NotifyMintCyclesSuccess">NotifyMintCyclesSuccess</a></li></li><li><li><a href="#type.NotifyTopUpArg">NotifyTopUpArg</a></li></li><li><li><a href="#type.NotifyTopUpResult">NotifyTopUpResult</a></li></li><li><li><a href="#type.PrincipalsAuthorizedToCreateCanistersToSubnetsResponse">PrincipalsAuthorizedToCreateCanistersToSubnetsResponse</a></li></li><li><li><a href="#type.Subaccount">Subaccount</a></li></li><li><li><a href="#type.SubnetFilter">SubnetFilter</a></li></li><li><li><a href="#type.SubnetSelection">SubnetSelection</a></li></li><li><li><a href="#type.SubnetTypesToSubnetsResponse">SubnetTypesToSubnetsResponse</a></li></li><li><li><a href="#type.log_visibility">log_visibility</a></li></li><li><li><a href="#create_canister">create_canister</a></li></li></ul></nav><div class="documentation"><h1>MockCMC</h1><p>Mock <code>CMC.notify_create_canister</code> implementation using <code>IC.create_canister</code> (for testing).
IT DOES NOT CONFORM TO THE SPECS!
It's useful for testing code using <code>CMC.notify_create_canister</code> on local net.</p>
<div class="declaration"><h4 class="type-declaration" id="type.AccountIdentifier"><span class="keyword">type </span><span class="type">AccountIdentifier</span> = <span class="type">Text</span></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.BlockIndex"><span class="keyword">type </span><span class="type">BlockIndex</span> = <span class="type">Nat64</span></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CanisterSettings"><span class="keyword">type </span><span class="type">CanisterSettings</span> = { freezing_threshold : ?<span class="type">Nat</span>; wasm_memory_threshold : ?<span class="type">Nat</span>; controllers : ?[<span class="type">Principal</span>]; reserved_cycles_limit : ?<span class="type">Nat</span>; log_visibility : ?<a href="#type.log_visibility"><span class="type">log_visibility</span></a>; wasm_memory_limit : ?<span class="type">Nat</span>; memory_allocation : ?<span class="type">Nat</span>; compute_allocation : ?<span class="type">Nat</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CreateCanisterArg"><span class="keyword">type </span><span class="type">CreateCanisterArg</span> = { subnet_selection : ?<a href="#type.SubnetSelection"><span class="type">SubnetSelection</span></a>; settings : ?<a href="#type.CanisterSettings"><span class="type">CanisterSettings</span></a>; subnet_type : ?<span class="type">Text</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CreateCanisterError"><span class="keyword">type </span><span class="type">CreateCanisterError</span> = {#Refunded : { create_error : <span class="type">Text</span>; refund_amount : <span class="type">Nat</span> }}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CreateCanisterResult"><span class="keyword">type </span><span class="type">CreateCanisterResult</span> = {#Ok : <span class="type">Principal</span>; #Err : <a href="#type.CreateCanisterError"><span class="type">CreateCanisterError</span></a>}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Cycles"><span class="keyword">type </span><span class="type">Cycles</span> = <span class="type">Nat</span></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.CyclesCanisterInitPayload"><span class="keyword">type </span><span class="type">CyclesCanisterInitPayload</span> = { exchange_rate_canister : ?<a href="#type.ExchangeRateCanister"><span class="type">ExchangeRateCanister</span></a>; cycles_ledger_canister_id : ?<span class="type">Principal</span>; last_purged_notification : ?<span class="type">Nat64</span>; governance_canister_id : ?<span class="type">Principal</span>; minting_account_id : ?<a href="#type.AccountIdentifier"><span class="type">AccountIdentifier</span></a>; ledger_canister_id : ?<span class="type">Principal</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.ExchangeRateCanister"><span class="keyword">type </span><span class="type">ExchangeRateCanister</span> = {#Set : <span class="type">Principal</span>; #Unset}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.IcpXdrConversionRate"><span class="keyword">type </span><span class="type">IcpXdrConversionRate</span> = { xdr_permyriad_per_icp : <span class="type">Nat64</span>; timestamp_seconds : <span class="type">Nat64</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.IcpXdrConversionRateResponse"><span class="keyword">type </span><span class="type">IcpXdrConversionRateResponse</span> = { certificate : <span class="type">Blob</span>; data : <a href="#type.IcpXdrConversionRate"><span class="type">IcpXdrConversionRate</span></a>; hash_tree : <span class="type">Blob</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Memo"><span class="keyword">type </span><span class="type">Memo</span> = ?<span class="type">Blob</span></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyCreateCanisterArg"><span class="keyword">type </span><span class="type">NotifyCreateCanisterArg</span> = { controller : <span class="type">Principal</span>; block_index : <a href="#type.BlockIndex"><span class="type">BlockIndex</span></a>; subnet_selection : ?<a href="#type.SubnetSelection"><span class="type">SubnetSelection</span></a>; settings : ?<a href="#type.CanisterSettings"><span class="type">CanisterSettings</span></a>; subnet_type : ?<span class="type">Text</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyCreateCanisterResult"><span class="keyword">type </span><span class="type">NotifyCreateCanisterResult</span> = {#Ok : <span class="type">Principal</span>; #Err : <a href="#type.NotifyError"><span class="type">NotifyError</span></a>}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyError"><span class="keyword">type </span><span class="type">NotifyError</span> = {#Refunded : { block_index : ?<a href="#type.BlockIndex"><span class="type">BlockIndex</span></a>; reason : <span class="type">Text</span> }; #InvalidTransaction : <span class="type">Text</span>; #Other : { error_message : <span class="type">Text</span>; error_code : <span class="type">Nat64</span> }; #Processing; #TransactionTooOld : <a href="#type.BlockIndex"><span class="type">BlockIndex</span></a>}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyMintCyclesArg"><span class="keyword">type </span><span class="type">NotifyMintCyclesArg</span> = { block_index : <a href="#type.BlockIndex"><span class="type">BlockIndex</span></a>; deposit_memo : <a href="#type.Memo"><span class="type">Memo</span></a>; to_subaccount : <a href="#type.Subaccount"><span class="type">Subaccount</span></a> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyMintCyclesResult"><span class="keyword">type </span><span class="type">NotifyMintCyclesResult</span> = {#Ok : <a href="#type.NotifyMintCyclesSuccess"><span class="type">NotifyMintCyclesSuccess</span></a>; #Err : <a href="#type.NotifyError"><span class="type">NotifyError</span></a>}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyMintCyclesSuccess"><span class="keyword">type </span><span class="type">NotifyMintCyclesSuccess</span> = { balance : <span class="type">Nat</span>; block_index : <span class="type">Nat</span>; minted : <span class="type">Nat</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyTopUpArg"><span class="keyword">type </span><span class="type">NotifyTopUpArg</span> = { block_index : <a href="#type.BlockIndex"><span class="type">BlockIndex</span></a>; canister_id : <span class="type">Principal</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.NotifyTopUpResult"><span class="keyword">type </span><span class="type">NotifyTopUpResult</span> = {#Ok : <a href="#type.Cycles"><span class="type">Cycles</span></a>; #Err : <a href="#type.NotifyError"><span class="type">NotifyError</span></a>}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.PrincipalsAuthorizedToCreateCanistersToSubnetsResponse"><span class="keyword">type </span><span class="type">PrincipalsAuthorizedToCreateCanistersToSubnetsResponse</span> = { data : [(<span class="type">Principal</span>, [<span class="type">Principal</span>])] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.Subaccount"><span class="keyword">type </span><span class="type">Subaccount</span> = ?<span class="type">Blob</span></h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.SubnetFilter"><span class="keyword">type </span><span class="type">SubnetFilter</span> = { subnet_type : ?<span class="type">Text</span> }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.SubnetSelection"><span class="keyword">type </span><span class="type">SubnetSelection</span> = {#Filter : <a href="#type.SubnetFilter"><span class="type">SubnetFilter</span></a>; #Subnet : { subnet : <span class="type">Principal</span> }}</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.SubnetTypesToSubnetsResponse"><span class="keyword">type </span><span class="type">SubnetTypesToSubnetsResponse</span> = { data : [(<span class="type">Text</span>, [<span class="type">Principal</span>])] }</h4><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.log_visibility"><span class="keyword">type </span><span class="type">log_visibility</span> = {#controllers; #public_}</h4><p></p></div><div class="declaration"><h4 class="function" id="create_canister"><code><span class="keyword">public func </span><span class="fnname">create_canister</span>(<span class="parameter">arg</span> : <a href="#type.CreateCanisterArg"><span class="type">CreateCanisterArg</span></a>) : <span class="keyword">async </span><a href="#type.CreateCanisterResult"><span class="type">CreateCanisterResult</span></a></code></h4><p></p></div></div></body></html>